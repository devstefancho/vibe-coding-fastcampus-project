---
allowed-tools: mcp__playwright
description: Create a kakao login feature
argument-hint: [new-app-name]
---

# 카카오 로그인 신규 앱 생성 및 Supabase 인증 연동

## PreCheck

- $1 앱이 이미 생성 되어있다면 필요한 설정들이 누락된 것이 없는 지 더블 체크한다.

## Context

- 로그인 기능은 로그인 전용 테스트 페이지에서 진행한다


## Kakao Developers Console Setup

- Playwright MCP를 사용해서 설정
- Kakao 로그인이 필요한 경우 사용자에게 로그인을 요청

### Create New App
1. Create a new app: Name is $1
    - 앱 아이콘: 20KB 미만 사이즈의 노란색 배경 아이콘을 임의로 생성해서 등록
    - 동의항목 설정확인: 닉네임, 프로필 사진, 이메일
2. Setup App Settings for Kakao Login

### Convert to Business App (Required for Email Access)
1. Go to [Kakao Developers Console](https://developers.kakao.com/console/app/{appId}/config#business-info)
2. Click "개인 개발자 비즈 앱 전환" (Individual Developer Biz App Conversion)
3. Complete identity verification process

### Apply for Email Permission
1. After business app conversion, go to [Additional Features](https://developers.kakao.com/console/app/{appId}/config/review)
2. Apply for "개인정보 동의항목" (Personal Information Consent Items)

### Configure Email as Required Field
1. Go to [Consent Items](https://developers.kakao.com/console/app/{appId}/product/login/scope)
2. Click "설정" for "카카오계정(이메일)" (Kakao Account Email)
3. Set as "필수 동의" (Required Consent)

### Setup Redirect URI
1. Go to [Kakao Login Settings](https://developers.kakao.com/console/app/{appId}/product/login)
2. Click "리다이렉트 URI 등록" (Register Redirect URI)
3. Add your Supabase callback URL: `https://your-project.supabase.co/auth/v1/callback`

### Enable Client Secret (Recommended)
1. In the same page, click "클라이언트 시크릿 발급" (Issue Client Secret)
2. Copy the generated secret for Supabase configuration


## Supabase Configuration

- Playwright MCP를 사용해서 설정
- Supabase 로그인이 필요한 경우 사용자에게 로그인을 요청

### Create/Access Supabase Project
1. Go to [Supabase](https://supabase.com)
2. Create a new project: Name is $1
3. Get your project URL and anon key

### Configure Kakao OAuth Provider
1. Go to Authentication > Providers in Supabase dashboard
2. Enable Kakao provider (Toggle Button)
3. Configure with:
   - **Client ID**: `ca51d42b5dabcdefghi....` (This is example JavaScript Key from Kakao)
   - **Client Secret**: (Generated in KAKAO BIZ Step 5 above)
   - **Redirect URL**: Will be auto-generated by Supabase

## Env Example

```
# Supabase Configuration
SUPABASE_URL=https://vezhhzmqchdmzcvakgaa.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ7.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZlemhoem1xY2hkbXpjdmFrZ3JkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc2Nzg1NzQsImV4cCI6MjA3MzI1NDU3NH0.Xe0v97_hfz8lAhMRfIQQSMlIRUaFUTBi9nA_LVTtrJI

# Kakao OAuth Configuration
KAKAO_JS_KEY=f016b009e18ffa3de6f7c57272fc71a1
KAKAO_REST_API_KEY=13c2e5fea322c9e2c3c9bee152fe20aa

# Site Configuration
SITE_URL=http://localhost:3000
```
